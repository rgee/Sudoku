<html>
	<head>
		<title>Dont forget to use --title to specify me!</title>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
		<style>body {
    margin: 0;
    padding: 0;
    font: 14px/1.5 'Palatino Linotype', 'Book Antiqua', Palatino, FreeSerif, serif;
    color: #252519;
}
a {
    color: #252519;
}
a:hover {
    text-decoration: underline;
    color: #19469D;
}
p {
    margin: 12px 0;
}
h1, h2, h3 {
    margin: 0;
    padding: 0;
}
table#source {
    width: 100%;
    border-collapse: collapse;
}
table#source td:first-child {
    padding: 30px 40px 30px 40px;
    vertical-align: top;
}
table#source td:first-child,
table#source td:first-child pre {
    width: 450px;
}
table#source td:last-child {
    padding: 30px 0 30px 40px;
    border-left: 1px solid #E5E5EE;
    background: #F5F5FF;
}
table#source tr {
    border-bottom: 1px solid #E5E5EE;
}
table#source tr.filename {
    padding-top: 40px;
    border-top: 1px solid #E5E5EE;
}
table#source tr.filename td:first-child {
    text-transform: capitalize;
}
table#source tr.filename td:last-child {
    font-size: 12px;
}
table#source tr.filename h2 {
    margin: 0;
    padding: 0;
    cursor: pointer;
}
table#source tr.code h1,
table#source tr.code h2,
table#source tr.code h3 {
    margin-top: 30px;
    font-family: "Lucida Grande", "Helvetica Nueue", Arial, sans-serif;
    font-size: 18px;
}
table#source tr.code h2 {
    font-size: 16px;
}
table#source tr.code h3 {
    font-size: 14px;
}
table#source tr.code ul {
    margin: 15px 0 15px 35px;
    padding: 0;
}
table#source tr.code ul li {
    margin: 0;
    padding: 1px 0;
}
table#source tr.code ul li p {
    margin: 0;
    padding: 0;
}
table#source tr.code td:first-child pre {
    padding: 20px;
}
#ribbon {
    position: fixed;
    top: 0;
    right: 0;
}
code .string { color: #219161; }
code .regexp { color: #219161; }
code .keyword { color: #954121; }
code .number { color: #19469D; }
code .comment { color: #bbb; }
code .this { color: #19469D; }</style>
		<script>
			$(function(){
				$('tr.code').hide();
				$('tr.filename').toggle(function(){
					$(this).nextUntil('.filename').fadeIn();
				}, function(){
					$(this).nextUntil('.filename').fadeOut();
				});
			});
		</script>
	</head>
	<body>
<table id="source"><tbody><tr><td><h1>Dont forget to use --title to specify me!</h1></td><td></td></tr><tr class="filename"><td><h2 id="sudoku.board.js"><a href="#">sudoku.board</a></h2></td><td>sudoku.board.js</td></tr><tr class="code">
<td class="docs">
<p>(function(){
    var defaultEasyBoard = [[5,0,8,0,4,1,6,0,0],
                            [0,6,0,8,0,9,0,0,0],
                            [1,0,0,6,0,0,5,4,0],
                            [9,0,0,1,6,0,7,0,0],
                            [0,0,0,5,7,2,0,0,0],
                            [0,0,5,0,3,4,0,0,6],
                            [0,1,4,0,0,5,0,0,2],
                            [0,0,0,2,0,6,0,5,0],
                            [0,0,6,4,8,0,3,0,9]]
    function Board(defaultConfig){
        this.ready = false;
        if(defaultConfig !== undefined){
            this.data = defaultEasyBoard;
            this.ready = true;
        } else {
            this.data = new Array(9);
            for(var i = 0; i &lt; 9; i++){
                this.data[i] = new Array(9);
                for(var j = 0; j &lt; 9; j++){
                    this.data[i][j] = 0;
                }
            }
        }
    }</p>

<pre><code>Board.prototype = {</code></pre>

<p>
        fillSquare: function(row, col, val) {
            this.data[row][col] = val;
            if(!this.ready){
                this.ready = true;
            }
        }
    };</p>

<pre><code>Sudoku.Board = Board;</code></pre>

<p>
})();</p>
</td>
<td class="code">

</td>
</tr><tr class="filename"><td><h2 id="sudoku.solver.js"><a href="#">sudoku.solver</a></h2></td><td>sudoku.solver.js</td></tr><tr class="code">
<td class="docs">
<p>(function(){
	function Solver(board){
		this.subSquares = [];
		this.board = board;
		this.internalRepr = [];
		this.lastInternalRepr = [];
		this.processSubSquares();
		this.calculatePotentials();
	}</p>

<pre><code>Solver.prototype = {</code></pre>
</td>
<td class="code">
<pre><code> <span class="class">Run</span> <span class="variable">through</span> <span class="variable">all</span> <span class="variable">knowledge</span>-<span class="variable">refinement</span> <span class="variable">and</span> <span class="variable">square</span>-<span class="variable">filling</span> <span class="variable">tactics</span> <span class="variable">once</span>. </code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<p>solve: function(){</p>

<pre><code>	},</code></pre>
</td>
<td class="code">
<pre><code> <span class="class">Divides</span> <span class="variable">the</span> <span class="variable">grid</span> <span class="variable">into</span> <span class="variable">the</span> <span class="variable">x3</span> <span class="variable">units</span> <span class="keyword">for</span> <span class="variable">constraint</span> <span class="variable">testing</span> <span class="variable">and</span> <span class="variable">stores</span> <span class="variable">them</span> <span class="keyword">in</span>
		   <span class="variable">a</span> <span class="variable">linear</span> <span class="variable">array</span> <span class="keyword">in</span> <span class="variable">row</span>-<span class="variable">major</span> <span class="variable">order</span>. <span class="class">Each</span> <span class="variable">element</span> <span class="variable">of</span> <span class="variable">subSquares</span> <span class="variable">itself</span> <span class="variable">is</span> <span class="variable">a</span> <span class="variable">d</span>
		   <span class="variable">array</span> <span class="variable">representing</span> <span class="variable">the</span> <span class="variable">subSquare</span> <span class="keyword">in</span> <span class="variable">row</span>-<span class="variable">major</span> <span class="variable">order</span>. </code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<p>processSubSquares: function(){
			this.subSquares = [];
			var row = 0;
			for(var col = 0; col &lt; 9; col+=3){
				for(var row = 0; row &lt; 9; row+=3){
					var data = new Array();
					for(var x = 0; x &lt; 3; ++x){
						for(var y = 0; y &lt; 3; ++y){
							data.push(this.board.data[col + x][row + y]);
						}
					}
					this.subSquares.push(data);
				}</p>

<pre><code>		}</code></pre>

<p>
		},</p>
</td>
<td class="code">
<pre><code>*
		 * <span class="class">Analyze</span> <span class="variable">both</span> <span class="variable">the</span> <span class="variable">internal</span> <span class="variable">state</span> <span class="variable">and</span> <span class="variable">previous</span> <span class="variable">state</span> <span class="variable">and</span> <span class="variable">generate</span> <span class="variable">a</span> <span class="variable">summary</span> <span class="variable">of</span> <span class="variable">changes</span>
		 * <span class="keyword">in</span> <span class="variable">the</span> <span class="variable">form</span> <span class="variable">of</span> <span class="variable">an</span> <span class="variable">array</span> <span class="variable">of</span> <span class="variable">strings</span>, <span class="variable">each</span> <span class="variable">representing</span> <span class="variable">a</span> <span class="variable">single</span> <span class="variable">change</span>.
		 </code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<p>summarizeChanges : function(){</p>

<pre><code>	},</code></pre>
</td>
<td class="code">
<pre><code>*
		 * <span class="class">Fill</span> <span class="keyword">in</span> <span class="variable">a</span> <span class="variable">square</span> <span class="variable">on</span> <span class="variable">the</span> <span class="variable">grid</span> <span class="variable">and</span> <span class="variable">update</span> <span class="variable">internal</span> <span class="variable">representations</span> 
		 </code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<p>fillSquare : function(row, col, val){
			this.board.fillSquare(row, col, val);
			this.processSubSquares();
			this.calculatePotentials();
		},</p>
</td>
<td class="code">
<pre><code>*
		 * <span class="class">Helper</span> <span class="keyword">function</span> <span class="variable">to</span> <span class="keyword">do</span> <span class="variable">row</span>-<span class="variable">major</span> <span class="variable">math</span> <span class="variable">on</span> <span class="variable">the</span> <span class="variable">subSquare</span> <span class="variable">grid</span> 
		 </code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<p>subSquareIdx : function(row,col){
			return (Math.floor(row/3)*3 + Math.floor(col/3));
		},</p>
</td>
<td class="code">
<pre><code>*
		 * <span class="class">Calculate</span> <span class="variable">the</span> <span class="variable">potential</span> <span class="variable">numbers</span> <span class="keyword">for</span> <span class="variable">each</span> <span class="variable">grid</span> <span class="variable">square</span>, <span class="variable">thus</span> <span class="variable">creating</span> <span class="variable">the</span> <span class="variable">solver</span>'<span class="variable">s</span> <span class="variable">internal</span>
		 * <span class="variable">representation</span> <span class="variable">of</span> <span class="variable">the</span> <span class="variable">sudoku</span> <span class="variable">board</span>. <span class="class">Creates</span> <span class="variable">a</span> <span class="variable">d</span> <span class="variable">array</span> <span class="variable">of</span> <span class="variable">potential</span> <span class="variable">numbers</span> <span class="variable">from</span> <span class="number integer">1</span>-<span class="number integer">9</span>.
		 </code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<p>calculatePotentials : function(){
			var all = [1,2,3,4,5,6,7,8,9];</p>

<pre><code>		this.internalRepr = new Array(9);</code></pre>

<p>
			for(var row = 0; row &lt; 9; row++){
				this.internalRepr[row] = new Array(9);
				for(var col = 0; col &lt; 9; col++){
					// Calculate possible numbers based on row/col/subsquare constraints if not given.
					if(!this.board.data[row][col]){
						 var subSquareIdx = this.subSquareIdx(row,col);
						 var possibilities = all.slice(0);
						 for(var i = 0; i &lt; all.length; i++){
						 	var result = true;
					 		if(this.board.data[row].indexOf(all[i]) !== -1){
					 			result = false;
					 		}
					 		for(var j = 0; j &lt; 9; j++){
					 			if(this.board.data[j][col] === all[i]){
					 				result = false;
					 				break;
					 			}
					 		}</p>

<pre><code>				 		if(this.subSquares[subSquareIdx].indexOf(all[i]) !== -1 ){</code></pre>

<p>
					 			result = false;
					 		}
					 		if(!result){
					 			possibilities.splice(possibilities.indexOf(all[i]),1);
					 		}
						 }
						 this.internalRepr[row][col] = possibilities;
					} else {
						this.internalRepr[row][col] = [];
					}
				}
			}
		},</p>
</td>
<td class="code">
<pre><code>*
		 * <span class="class">If</span> <span class="variable">a</span> <span class="variable">number</span> <span class="variable">is</span> <span class="variable">only</span> <span class="variable">a</span> <span class="variable">candidate</span> <span class="keyword">in</span> <span class="variable">one</span> <span class="variable">row</span> <span class="variable">or</span> <span class="variable">column</span> <span class="variable">of</span> <span class="variable">a</span> <span class="variable">x3</span> <span class="variable">subsquare</span>, <span class="variable">we</span> <span class="variable">can</span> <span class="variable">remove</span> <span class="variable">it</span> <span class="variable">as</span> <span class="variable">a</span> <span class="variable">candidate</span>
		 * <span class="variable">from</span> <span class="variable">all</span> <span class="variable">cells</span> <span class="keyword">in</span> <span class="variable">that</span> <span class="variable">particular</span> <span class="variable">row</span> <span class="variable">or</span> <span class="variable">column</span>. <span class="class">It</span> <span class="variable">must</span> <span class="variable">appear</span> <span class="keyword">in</span> <span class="variable">that</span> <span class="variable">particular</span> <span class="variable">subsquare</span> <span class="variable">or</span> <span class="keyword">else</span>
		 * <span class="variable">that</span> <span class="variable">subsquare</span> <span class="variable">would</span> <span class="variable">have</span> <span class="variable">no</span> <span class="variable">other</span> <span class="variable">way</span> <span class="variable">of</span> <span class="variable">filling</span> <span class="variable">the</span> <span class="variable">number</span>.
		 </code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<p>onlyCandidate: function(){</p>

<pre><code>	},</code></pre>
</td>
<td class="code">
<pre><code>*
		 * <span class="class">Taking</span> <span class="variable">each</span> <span class="variable">group</span> <span class="variable">of</span> <span class="variable">three</span> <span class="variable">columns</span> <span class="variable">or</span> <span class="variable">rows</span> (<span class="variable">non</span>-<span class="variable">overlapping</span>), <span class="keyword">if</span> <span class="variable">a</span> <span class="variable">number</span> <span class="variable">appears</span> <span class="keyword">in</span> <span class="variable">two</span> <span class="variable">of</span> <span class="variable">the</span> <span class="variable">three</span> <span class="variable">subsquares</span>
		 * <span class="variable">the</span> <span class="variable">group</span> <span class="variable">covers</span>, <span class="variable">then</span> <span class="variable">we</span> <span class="variable">know</span> <span class="variable">what</span> <span class="variable">row</span> <span class="variable">or</span> <span class="variable">column</span> <span class="variable">that</span> <span class="variable">number</span> <span class="variable">must</span> <span class="variable">appear</span> <span class="keyword">in</span> <span class="variable">within</span> <span class="variable">the</span> <span class="variable">final</span> <span class="variable">subsquare</span> <span class="variable">that</span> <span class="variable">does</span>
		 * <span class="variable">not</span> <span class="variable">have</span> <span class="variable">it</span>. <span class="class">Using</span> <span class="variable">that</span>, <span class="variable">we</span> <span class="variable">see</span> <span class="keyword">if</span> <span class="variable">the</span> <span class="variable">row</span> <span class="variable">or</span> <span class="variable">column</span>, <span class="variable">within</span> <span class="variable">the</span> <span class="variable">subgroup</span> <span class="variable">without</span> <span class="variable">that</span> <span class="variable">number</span> <span class="variable">only</span> <span class="variable">has</span> <span class="variable">one</span> <span class="variable">square</span>
		 * <span class="variable">left</span> <span class="variable">unfilled</span>. <span class="class">If</span> <span class="variable">so</span>, <span class="variable">fill</span> <span class="variable">it</span> <span class="keyword">with</span> <span class="variable">that</span> <span class="variable">number</span> <span class="variable">because</span> <span class="variable">we</span> <span class="variable">know</span> <span class="variable">it</span> <span class="variable">could</span> <span class="variable">go</span> <span class="variable">nowhere</span> <span class="keyword">else</span>.
		 *
		 * @<span class="variable">param</span> {<span class="class">String</span>} <span class="variable">js</span>
		 </code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<p>allButOne: function(){</p>

<pre><code>	},</code></pre>

<p>
		eliminatePairs: function(){
			this.eliminateGroups(2);	
		},
		eliminateTriples: function(){
			this.eliminateGroups(3);	
		},
		eliminateGroups: function(length){</p>

<pre><code>		var elem = temp = removed = numMatches = null;</code></pre>

<p>
			numMatches = 0;
			for(var row = 0; row &lt; 9; row++){
				for(var col = 0; col &lt; 9; col++){
					elem = this.internalRepr[row][col].slice(0);
					if(elem.length === length){</p>
</td>
<td class="code">
<pre><code> ****<span class="class">ROW</span> <span class="class">CONSTRAINTS</span>**** </code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<p>// Make a copy of the array to mutate.
						temp = this.internalRepr[row].slice(0);</p>

<pre><code>					// Check if it's identical to any other pairs in the row after removing it from the array.</code></pre>

<p>
						removed = false;
						temp = temp.filter(function(element, index, array){
							if(elem.compareArrays(element) &amp;&amp; !removed){
								removed = true;
								return false;
							} else {</p>

<pre><code>							return true;</code></pre>

<p>
							}
						});</p>

<pre><code>					// Does enough of these exist in the row?</code></pre>

<p>
						other = false;
						$.each(temp, function(index, val){
							if(elem.compareArrays(val)){
								numMatches++;
							}
						});
						if(numMatches === length-1){
							numMatches = 0;
							// Remove every instance of the pair from all its supersets in the row.
							this.internalRepr[row] = $.map(this.internalRepr[row], function(element, index){
								if(elem.compareArrays(element)){
									return [element];
								} else {
									var t= element.filter(function(e, i, a){
										var result = true;
										for(var i = 0; i &lt; elem.length; i++){
											if(elem[i] === e){
												result = false;
												break;
											}
										}
										return result;
									});
									return [t];
								}
							});
						}</p>
</td>
<td class="code">
<pre><code> ****<span class="class">COLUMN</span> <span class="class">CONSTRAINTS</span>**** </code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<p>for(var i = 0; i &lt; 9; i++){
							if(elem.compareArrays(this.internalRepr[i][col]) &amp;&amp; i !== row){
								numMatches++;
							}
						}</p>

<pre><code>					if(numMatches === length-1){</code></pre>

<p>
							for(var i = 0; i &lt; 9; i++){
								if(!elem.compareArrays(this.internalRepr[i][col])){
									this.internalRepr[i][col] = this.internalRepr[i][col].filter(function(e, idx, arr){
										var result = true;
										for(var i = 0; i &lt; elem.length; i++){
											if(elem[i] === e){
												result = false;
												break;
											}
										}
										return result;
									});
								}
							}
						}
					}
				} 
			}
		}
	};</p>

<pre><code>Sudoku.Solver = Solver;</code></pre>

<p>
})();</p>
</td>
<td class="code">

</td>
</tr><tr class="filename"><td><h2 id="sudoku.core.js"><a href="#">sudoku.core</a></h2></td><td>sudoku.core.js</td></tr><tr class="code">
<td class="docs">
<p>(function(global){
    function Sudoku(){
    }
    if(global.Sudoku){
        throw new Error("Sudoku namespace already defined.");
    }else{
        global.Sudoku = Sudoku;
    }</p>

<p>})(window);</p>
</td>
<td class="code">

</td>
</tr>	</body>
</html></tbody></table>